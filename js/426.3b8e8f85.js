"use strict";(globalThis["webpackChunkkaven_blog"]=globalThis["webpackChunkkaven_blog"]||[]).push([[426],{66426:(e,o,l)=>{l.r(o),l.d(o,{default:()=>k});var n=l(22290);const t={class:"main-content"},s=["src"];function i(e,o,l,i,a,r){const c=(0,n.up)("q-carousel-slide"),u=(0,n.up)("q-btn"),d=(0,n.up)("q-carousel-control"),h=(0,n.up)("q-carousel");return(0,n.wg)(),(0,n.iD)("div",t,[(0,n._)("template",null,[(0,n.Wm)(h,{vertical:"",animated:"",modelValue:e.slide,"onUpdate:modelValue":o[3]||(o[3]=o=>e.slide=o),fullscreen:e.fullscreen,"onUpdate:fullscreen":o[4]||(o[4]=o=>e.fullscreen=o),onTransition:e.transition,swipeable:e.fullscreen,ref:"carousel"},{control:(0,n.w5)((()=>[(0,n.Wm)(d,{position:"bottom-right",offset:[18,18],class:"q-gutter-xs"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{round:"",dense:"",color:"orange","text-color":"black",icon:"arrow_left",onClick:o[0]||(o[0]=o=>e.invoke("previous"))}),(0,n.Wm)(u,{round:"",dense:"",color:"orange","text-color":"black",icon:"arrow_right",onClick:o[1]||(o[1]=o=>e.invoke("next"))})])),_:1}),(0,n.Wm)(d,{position:"bottom-left",offset:[18,18]},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{round:"",dense:"",color:"white","text-color":"primary",icon:e.fullscreen?"fullscreen_exit":"fullscreen",onClick:o[2]||(o[2]=o=>e.fullscreenToggle())},null,8,["icon"])])),_:1})])),default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.photos,(e=>((0,n.wg)(),(0,n.j4)(c,{key:e.index,name:e.index},{default:(0,n.w5)((()=>[(0,n._)("img",{src:e.src,style:{height:"100%",width:"100%","object-fit":"contain"}},null,8,s)])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue","fullscreen","onTransition","swipeable"])])])}var a=l(52551),r=l(23229);const c=[],u=(0,n.aZ)({name:"ImagePage",data(){return{slide:1,fullscreen:!1,photos:c,index:0,max:4}},methods:{async fullscreenToggle(){this.fullscreen=!this.fullscreen,await this.$q.fullscreen.toggle()},add(e){e||(e="http://dev.kaven.xyz:8888?label=gif"),e=(0,a.qP)(e,"user_id",this.store.user.email??""),e=(0,a.qP)(e,"index",this.index.toString()),e=(0,a.qP)(e,"timestamp",(0,r.Xc)());const o=new Image;o.src=e,this.photos.push({index:this.index,src:e});while(this.photos.length>this.max)this.photos.shift();this.index++},transition(e,o){console.info(`next: ${o} -> ${e}`),e>o&&this.add()},invoke(e){this.$refs.carousel[e]()}},created(){console.info("initialize images");for(let e=0;e<this.max;e++)this.add()}});var d=l(60188),h=l(32998),f=l(97514),m=l(94868),g=l(54426),p=l(4771),w=l(8723),x=l.n(w);const b=(0,d.Z)(u,[["render",i],["__scopeId","data-v-6bcabfb6"]]),k=b;x()(u,"components",{QCarousel:h.Z,QCarouselSlide:f.Z,QCarouselControl:m.Z,QToggle:g.Z,QBtn:p.Z})}}]);