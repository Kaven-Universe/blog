"use strict";(globalThis["webpackChunkkaven_blog"]=globalThis["webpackChunkkaven_blog"]||[]).push([[903],{39760:(e,t,a)=>{a.d(t,{Z:()=>k});var r=a(22290),l=a(75232);const i={class:"article-card-header"},s={class:"row no-wrap items-center"},c={class:"col text-h4 ellipsis title"};function n(e,t,a,n,o,u){const d=(0,r.up)("router-link"),m=(0,r.up)("q-card-section"),g=(0,r.up)("q-icon"),p=(0,r.up)("q-badge"),f=(0,r.up)("q-card");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r.Wm)(f,{flat:""},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{class:"q-pt-none q-pl-none"},{default:(0,r.w5)((()=>[(0,r._)("div",s,[(0,r._)("div",c,[e.link?((0,r.wg)(),(0,r.j4)(d,{key:0,to:e.link},{default:(0,r.w5)((()=>[(0,r._)("span",null,(0,l.zw)(e.title),1)])),_:1},8,["to"])):(0,r.kq)("",!0)])])])),_:1}),(0,r.Wm)(m,{class:"q-pt-none q-pl-none q-gutter-xs"},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{color:"grey-3","text-color":"black"},{default:(0,r.w5)((()=>[(0,r.Wm)(g,{color:"black",class:"article-info q-ma-xs",name:"fas fa-user-tie"}),(0,r.Uk)(" "+(0,l.zw)(e.article.author),1)])),_:1}),(0,r.Wm)(p,{color:"grey-3","text-color":"black"},{default:(0,r.w5)((()=>[(0,r.Wm)(g,{color:"black",class:"article-info q-ma-xs",name:"fas fa-flag"}),(0,r.Uk)(" "+(0,l.zw)(e.tagsString),1)])),_:1}),(0,r.Wm)(p,{color:"grey-3","text-color":"black"},{default:(0,r.w5)((()=>[(0,r.Wm)(g,{color:"black",class:"article-info q-ma-xs",name:"fas fa-comments"}),(0,r.Uk)(" "+(0,l.zw)(e.comments)+" "+(0,l.zw)(e.$t("comments")),1)])),_:1}),(0,r.Wm)(p,{color:"grey-3","text-color":"black"},{default:(0,r.w5)((()=>[(0,r.Wm)(g,{color:"black",class:"article-info q-ma-xs",name:"fas fa-chart-line"}),(0,r.Uk)(" "+(0,l.zw)(e.visits)+" "+(0,l.zw)(e.$t("visits")),1)])),_:1}),(0,r.Wm)(p,{color:"grey-3","text-color":"black"},{default:(0,r.w5)((()=>[(0,r.Wm)(g,{color:"black",class:"article-info q-ma-xs",name:"fas fa-eye"}),(0,r.Uk)(" "+(0,l.zw)(e.views)+" "+(0,l.zw)(e.$t("views")),1)])),_:1})])),_:1})])),_:1})])}var o=a(37374);const u=(0,r.aZ)({name:"ArticleHeader",props:{article:{type:Object,required:!0},edit:{type:Boolean,default:()=>!1}},computed:{link(){return this.article.id?this.edit&&this.store.IsLogged?`/admin/article/edit/${this.article.id}`:`/article/${this.article.id}`:""},title(){return this.article?this.article.title:""},comments(){return this.article?.comments??0},tags(){return this.article?this.article.tags:[]},visits(){return this.article?this.article.visits:""},views(){return this.article?this.article.views:""},tagsString(){return this.tags?this.tags.join(o.tG):""}}});var d=a(60188),m=a(75267),g=a(24238),p=a(25652),f=a(89663),w=a(97637),h=a(8723),v=a.n(h);const b=(0,d.Z)(u,[["render",n],["__scopeId","data-v-0bfcc84a"]]),k=b;v()(u,"components",{QCard:m.Z,QCardSection:g.Z,QIcon:p.Z,QRating:f.Z,QBadge:w.Z})},36903:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var r=a(22290);const l={class:"main-content"},i={key:0,class:"q-pa-lg flex flex-center"};function s(e,t,a,s,c,n){const o=(0,r.up)("ArticleCard"),u=(0,r.up)("q-pagination");return(0,r.wg)(),(0,r.iD)("div",l,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.articles,(e=>((0,r.wg)(),(0,r.j4)(o,{key:e.id,article:e},null,8,["article"])))),128)),e.pageCount>0?((0,r.wg)(),(0,r.iD)("div",i,[(0,r.Wm)(u,{modelValue:e.pageCur,"onUpdate:modelValue":t[0]||(t[0]=t=>e.pageCur=t),color:"red",max:e.pageCount,"max-pages":e.pagePer,"boundary-numbers":!0,"boundary-links":!0,input:!1},null,8,["modelValue","max","max-pages"])])):(0,r.kq)("",!0)])}var c=a(75232);const n=e=>((0,r.dD)("data-v-e0dc900a"),e=e(),(0,r.Cn)(),e),o={class:"article-card"},u={class:"article-date-ribbon"},d=n((()=>(0,r._)("div",{class:"corner"},null,-1))),m={class:"article-image"},g={style:{height:"100%"}},p=n((()=>(0,r._)("div",{class:"absolute-full flex flex-center text-subtitle2"}," Cannot load image ",-1))),f={key:1,class:"absolute-full flex flex-center text-subtitle2 text-grey",style:{"background-color":"#efefef"}},w={class:"text-overline"};function h(e,t,a,l,i,s){const n=(0,r.up)("ArticleHeader"),h=(0,r.up)("q-img"),v=(0,r.up)("q-card"),b=(0,r.up)("q-card-section"),k=(0,r.up)("q-space"),_=(0,r.up)("q-btn"),y=(0,r.up)("q-card-actions");return(0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("div",u,[d,(0,r.Uk)(" "+(0,c.zw)(e.createDate),1)]),(0,r.Wm)(v,{flat:""},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{article:e.article},null,8,["article"]),(0,r.Wm)(b,{horizontal:""},{default:(0,r.w5)((()=>[(0,r.Wm)(b,{class:"no-padding"},{default:(0,r.w5)((()=>[(0,r._)("div",m,[(0,r.Wm)(v,{style:{height:"100%"}},{default:(0,r.w5)((()=>[(0,r._)("div",g,[e.firstImage?((0,r.wg)(),(0,r.j4)(h,{key:0,src:e.firstImage,"spinner-color":"blue",contain:"",style:{height:"100%"}},{error:(0,r.w5)((()=>[p])),_:1},8,["src"])):((0,r.wg)(),(0,r.iD)("div",f," Kaven Blog "))])])),_:1})])])),_:1}),(0,r.Wm)(b,{class:"q-pt-xs"},{default:(0,r.w5)((()=>[(0,r._)("div",w,(0,c.zw)(e.summary),1)])),_:1})])),_:1}),(0,r.Wm)(y,null,{default:(0,r.w5)((()=>[(0,r.Wm)(k),e.canEdit?((0,r.wg)(),(0,r.j4)(_,{key:0,unelevated:"",size:"sm",color:"primary",label:e.$t("Edit"),to:{path:`/admin/article/edit/${e.id}`}},null,8,["label","to"])):(0,r.kq)("",!0),(0,r.Wm)(_,{unelevated:"",size:"sm",color:"primary",label:e.$t("Read More"),to:{path:`/article/${e.id}`}},null,8,["label","to"])])),_:1})])),_:1})])}var v=a(43265),b=a(39760);const k=(0,r.aZ)({name:"ArticleCard",components:{ArticleHeader:b.Z},props:{article:{type:Object,required:!0}},computed:{id(){return this.article.id},summary(){return this.article.summary},createDate(){return(0,v.Bt)(this.article)},canEdit(){return!!this.store.IsAdmin},firstImage(){const e=this.article.content;if(e){const t=/(http(s?):)\/\/([.|\w|\s|-])*(:?)([/|.|\w|\s|-])*\.(?:jpg|gif|png)/g,a=t.exec(e);if(a)return a.First()}}}});var _=a(60188),y=a(75267),q=a(24238),x=a(93533),W=a(88851),C=a(1068),Z=a(4771),z=a(8723),Q=a.n(z);const j=(0,_.Z)(k,[["render",h],["__scopeId","data-v-e0dc900a"]]),D=j;Q()(k,"components",{QCard:y.Z,QCardSection:q.Z,QImg:x.Z,QCardActions:W.Z,QSpace:C.Z,QBtn:Z.Z});var I=a(7762);const $=(0,r.aZ)({name:"HomePage",components:{ArticleCard:D},computed:{articles(){return this.store.articles},pageCount(){return Math.ceil(this.store.articleCount/this.pagePer)},pagePer(){return this.store.pagePer},pageCur:{get(){return this.store.pageNumber},set(e){this.store.pageNumber=e}}},watch:{async pageCur(){await(0,I.d2)()}},async mounted(){await(0,I.fv)(),await(0,I.jh)()}});var A=a(57385);const U=(0,_.Z)($,[["render",s]]),P=U;Q()($,"components",{QPagination:A.Z})}}]);