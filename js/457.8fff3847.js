"use strict";(globalThis["webpackChunkkaven_blog"]=globalThis["webpackChunkkaven_blog"]||[]).push([[457],{44457:(e,t,a)=>{a.r(t),a.d(t,{default:()=>$});var i=a(22290);const s={class:"q-pa-md"};function n(e,t,a,n,l,o){const r=(0,i.up)("q-icon"),c=(0,i.up)("q-input"),d=(0,i.up)("q-table");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i.Wm)(d,{title:"文章",columns:e.columns,rows:e.articles,"row-key":"id",selection:"multiple",selected:e.selected,"onUpdate:selected":t[1]||(t[1]=t=>e.selected=t),pagination:e.pagination,"onUpdate:pagination":t[2]||(t[2]=t=>e.pagination=t),onRequest:e.onRequest,filter:e.filter,"rows-per-page-label":e.$t("Records per page:")},{"top-right":(0,i.w5)((()=>[(0,i.Wm)(c,{borderless:"",dense:"",debounce:"300",modelValue:e.filter,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filter=t),placeholder:"Search"},{append:(0,i.w5)((()=>[(0,i.Wm)(r,{name:"search"})])),_:1},8,["modelValue"])])),_:1},8,["columns","rows","selected","pagination","onRequest","filter","rows-per-page-label"])])}var l=a(43265),o=a(37374),r=a(7762);const c={sortBy:"name",descending:!1,page:1,rowsPerPage:10,rowsNumber:10},d=[],p=[],u=(0,i.aZ)({name:"ArticlePage",data(){return{selected:[],columns:p,pagination:c,loading:!1,filter:"",articles:d}},computed:{skip(){return(this.pagination.page-1)*this.pagination.rowsPerPage}},methods:{async fetchData(){const e=await(0,r.d2)(this.pagination.rowsPerPage,this.skip,!1);e.Success&&(this.articles=e.GetData())},async onRequest(e){this.loading=!0,this.pagination=e.pagination,await this.fetchData(),this.loading=!1}},async mounted(){this.columns=[{name:"title",required:!0,label:this.$t("Title"),align:"left",field:"title",format:e=>`${e}`,sortable:!0},{name:"author",align:"center",label:this.$t("Author"),field:"author",sortable:!0},{name:"tags",label:this.$t("Tags"),field:e=>{if(e.tags)return e.tags.join(o.tG)},sortable:!0,style:"width: 10px"},{name:"comment",label:this.$t("Comments"),field:"views"},{name:"createDateTime",label:this.$t("Create Date"),field:e=>{if(e.createDateTime)return(0,l.sg)(e.createDateTime)}},{name:"visits",label:this.$t("Views/Visits"),field:e=>`${e.views??""}/${e.visits??""}`}],isNaN(this.store.articleCount)&&await(0,r.f2)(),this.pagination.rowsNumber=this.store.articleCount,await this.fetchData()}});var g=a(60188),h=a(63935),m=a(51464),b=a(25652),w=a(8723),f=a.n(w);const v=(0,g.Z)(u,[["render",n]]),$=v;f()(u,"components",{QTable:h.Z,QInput:m.Z,QIcon:b.Z})}}]);